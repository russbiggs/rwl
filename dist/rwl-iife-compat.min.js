"use strict";function _toConsumableArray(r){if(Array.isArray(r)){for(var e=0,a=Array(r.length);e<r.length;e++)a[e]=r[e];return a}return Array.from(r)}var rwl=function(){function r(r){var e=r.slice(0,-2),a=r.slice(-2),t=parseInt(e)+.01*parseFloat(a);return parseFloat(t.toFixed(2))}return function(e){var a={},t=e.split("\n").slice(0,3);a.metadata=function(e){var a={},t=e;a.siteId=t[0].slice(0,6).replace(/\s*/g,"");var s=t[0].slice(9).match(/(\w+)/g);a.siteName=s.slice(0,-1).join(" "),a.speciesCode=s.slice(-1)[0];var n=t[1].slice(9).match(/([\w\-]+)/g);a.state=n[0],a.species=n[1];var i=n[2].match(/\d+/);a.elevation=i[0];var l=n[3].split("-"),o=r(l[1]),c=r(l[0]);a.location={type:"Feature",properties:{},geometry:{type:"Point",coordinates:[o,c]}};var p=n[5];a.firstYear=parseInt(p);var u=n[6];a.lastYear=parseInt(u);var v=t[2].slice(9).match(/\w+/g);return a.leadInvestigator=v.slice(0,2).join(" "),a}(t);var s=e.split("\n").slice(3);return a.samples=function(r){var e=r,a=[],t=!0,s=!1,n=void 0;try{for(var i,l=e[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var o=i.value,c={},p=o.split(/\s+/g);c.sampleId=p[0];for(var u=p.slice(1),v=parseInt(u.shift()),m=[],f=0;f<u.length;f++){var y={};y.year=v+f,y.width=parseInt(u[f]),m.push(y)}c.measurements=m,a.push(c)}}catch(r){s=!0,n=r}finally{try{!t&&l.return&&l.return()}finally{if(s)throw n}}var d=a.reduce(function(r,e){var a;return r[e.sampleId]=r[e.sampleId]||[],(a=r[e.sampleId]).push.apply(a,_toConsumableArray(e.measurements)),r},{}),h=[];for(var I in d)h.push({sampleId:I,measurements:d[I]});return h}(s),JSON.stringify(a)}}();
