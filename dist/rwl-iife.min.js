var rwl=function(){"use strict";function s(s){let t=s.slice(0,-2),e=s.slice(-2),n=parseInt(t)+.01*parseFloat(e);return parseFloat(n.toFixed(2))}return function(t){const e={},n=t.split("\n").slice(0,3);e.metadata=function(t){const e={},n=t;e.siteId=n[0].slice(0,6).replace(/\s*/g,"");const a=n[0].slice(9).match(/(\w+)/g);e.siteName=a.slice(0,-1).join(" "),e.speciesCode=a.slice(-1)[0];const c=n[1].split(/\s{2,}/);e.state=c[1].match(/2\s([A-Za-z\s]+)/)[1],e.species=n[1].match(/\d+[A-Za-z\s]+\s\s+([A-Za-z\s\-\']+)\b\s\s+\d/)[1];const i=n[1].match(/\d+M/)[0].match(/\d+/);e.elevation=i[0];let r=n[1].match(/\s(\d+\-*\s*\d+)\s/)[1];r.indexOf(" ")>-1&&(r=r.split(/\s+/)),r.indexOf("-")>-1&&(r=r.split("-"));const o=s(r[1]),l=s(r[0]);e.location={type:"Feature",properties:{},geometry:{type:"Point",coordinates:[o,l]}};const[p,d]=n[1].match(/(\d{4})\s*(\d{4})\s*$/).slice(1);return e.firstYear=parseInt(p),e.lastYear=parseInt(d),e.leadInvestigator=(m=n[2],m.match(/\w+\s+3\s(.*)/)[1].split(/(\s\band\b\s)|\s{2,}|\,\s+/).filter(s=>!!s))[0],e;var m}(n);const a=t.split("\n").slice(3);return e.samples=function(s){const t=s,e=[];for(const s of t){const t={},n=s.split(/\s+/g);t.sampleId=n[0];const a=n.slice(1),c=parseInt(a.shift()),i=[];for(let s=0;s<a.length;s++){const t={};t.year=c+s,t.width=parseInt(a[s]),i.push(t)}t.measurements=i,e.push(t)}const n=e.reduce((s,t)=>(s[t.sampleId]=s[t.sampleId]||[],s[t.sampleId].push(...t.measurements),s),{}),a=[];for(const s in n)a.push({sampleId:s,measurements:n[s]});return a}(a),JSON.stringify(e)}}();